<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type" />
<title>Push</title>
<style type="text/css">

p.p0{
margin:0pt;
margin-bottom:0.0001pt;
margin-bottom:0pt;
margin-top:0pt;
text-align:justify;
font-size:10.5000pt; font-family:'Times New Roman'; }
.style1 {
	border-width: 0px;
}
</style>
</head>

<body style="background-image: url('../../Image/Bk.PNG')">

<p class="p0" style="margin-bottom: 0pt; margin-top: 0pt;">
<a href="../../default.html">
<img alt="Dorothy" class="style1" height="69" src="../../Image/DorothySmall.PNG" width="200" /></a></p>
<hr />
<p class="p0" style="margin-bottom: 0pt; margin-top: 0pt;">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: rgb(0,128,0); font-size: 10.5000pt; font-family: '宋体';">
oObjectGroup类的成员函数，向物体组里添加一个物体的拷贝。</span></p>
<p/><p class="p0" style="margin-bottom: 0pt; margin-top: 0pt;">
<span style="color: rgb(1,0,1); font-size: 10.5000pt; font-family: '宋体';">
oObject</span><span style="font-size: 10.5000pt; font-family: '宋体';">*&nbsp;AddNew(</span><span style="color: rgb(1,0,1); font-size: 10.5000pt; font-family: '宋体';">oObject</span><span style="font-size: 10.5000pt; font-family: '宋体';">*&nbsp;</span><span style="color: rgb(1,0,1); font-size: 10.5000pt; font-family: '宋体';">pkObj</span><span style="font-size: 10.5000pt; font-family: '宋体';">);</span></p>
<p/><p class="p0" style="margin-bottom: 0pt; margin-top: 0pt; text-align: left;">
<span style="color: rgb(128,128,0); font-size: 10.5000pt; font-family: '宋体';">
参数</span><span style="color: rgb(128,0,128); font-size: 10.5000pt; font-family: '宋体';">&nbsp;</span><span style="font-size: 10.5000pt; font-family: '宋体';">pkObj&nbsp;——指向一个oObject的对象或是其派生对象的指针</span></p>
<p class="p0" style="margin-bottom: 0pt; margin-top: 0pt; text-align: left;">
<span style="color: rgb(128,0,128); font-size: 10.5000pt; font-family: '宋体';">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: rgb(1,0,1); font-size: 10.5000pt; font-family: '宋体';">返回一个指向oObjectGroup内实际新加入的对象的指针</span></p>
<p/><p class="p0" style="margin-bottom: 0pt; margin-top: 0pt; text-align: left;">
<span style="color: rgb(128,128,0); font-size: 10.5000pt; font-family: '宋体';">
——只要是oObject类或是其派生类对象只要写好返回自己的拷贝对象的Copy()函数并按各自情况处理好可能需要重写的虚函数Render()、Update()、GetRect()以及GetDisplayChar()和GetDisplayColor()函数后，就可以放心地把这样的类对象通过AddNew()函数复制一个拷贝并把拷贝交给给oObjectGroup管理了。往oObjectGroup里添加一个对象时，获得拷贝是通过对象的Copy()函数，并将指向该拷贝的指针在添加后返回出来，在之后oObjectGroup管理的只是这个拷贝。</span></p>
<p class="p0" style="margin-bottom: 0pt; margin-top: 0pt; text-align: left;">
<span style="color: rgb(128,128,0); font-size: 10.5000pt; font-family: '宋体';">
我会这样用：</span></p>
<p class="p0" style="margin-bottom: 0pt; margin-top: 0pt; text-align: left;">
<span style="color: rgb(128,128,0); font-size: 10.5000pt; font-family: '宋体';">
//oUnit是个oObject的派生类，先弄一个普通的对象kUnit</span></p>
<p class="p0" style="margin-bottom: 0pt; margin-top: 0pt;">
<span style="color: rgb(128,128,0); font-size: 10.5000pt; font-family: '宋体';">
oUnit&nbsp;kUnit(true);</span></p>
<p class="p0" style="margin-bottom: 0pt; margin-top: 0pt;">
<span style="color: rgb(128,128,0); font-size: 10.5000pt; font-family: '宋体';">
for&nbsp;(int&nbsp;i&nbsp;=&nbsp;0;i&nbsp;&lt;&nbsp;10;i++)</span></p>
<p class="p0" style="margin-bottom: 0pt; margin-top: 0pt;">
<span style="color: rgb(128,128,0); font-size: 10.5000pt; font-family: '宋体';">
{</span></p>
<p class="p0" style="text-indent: 21.0000pt; margin-bottom: 0pt; margin-top: 0pt;">
<span style="color: rgb(128,128,0); font-size: 10.5000pt; font-family: '宋体';">
/*下面一段把kUnit初始化成Dog&nbsp;Unit*/</span></p>
<p class="p0" style="text-indent: 21.0000pt; margin-bottom: 0pt; margin-top: 0pt;">
<span style="color: rgb(128,128,0); font-size: 10.5000pt; font-family: '宋体';">
kUnit.SetImage(pkDogImage);</span></p>
<p class="p0" style="text-indent: 21.0000pt; margin-bottom: 0pt; margin-top: 0pt;">
<span style="color: rgb(128,128,0); font-size: 10.5000pt; font-family: '宋体';">
kUnit.SetRenderRect(g_kDogImageRect);</span></p>
<p class="p0" style="text-indent: 21.0000pt; margin-bottom: 0pt; margin-top: 0pt;">
<span style="color: rgb(128,128,0); font-size: 10.5000pt; font-family: '宋体';">
kUnit.SetPosition(i*40,40);</span></p>
<p class="p0" style="text-indent: 21.0000pt; margin-bottom: 0pt; margin-top: 0pt;">
<span style="color: rgb(128,128,0); font-size: 10.5000pt; font-family: '宋体';">
kUnit.SetZ(1);</span></p>
<p class="p0" style="text-indent: 21.0000pt; margin-bottom: 0pt; margin-top: 0pt;">
<span style="color: rgb(128,128,0); font-size: 10.5000pt; font-family: '宋体';">
//10只Dog&nbsp;Unit直接塞入并完全交给oObjectGroup代管</span></p>
<p class="p0" style="text-indent: 21.0000pt; margin-bottom: 0pt; margin-top: 0pt; text-align: left;">
<span style="color: rgb(128,128,0); font-size: 10.5000pt; font-family: '宋体';">
m_kGroup.Push(&amp;kUnit);</span></p>
<p class="p0" style="margin-bottom: 0pt; margin-top: 0pt; text-align: left;">
<span style="color: rgb(128,128,0); font-size: 10.5000pt; font-family: '宋体';">
}</span></p>
<p class="p0" style="margin-bottom: 0pt; margin-top: 0pt;">
<span style="color: rgb(128,128,0); font-size: 10.5000pt; font-family: '宋体';">
/*下面一段把kUnit初始化成Cat&nbsp;Unit*/</span></p>
<p class="p0" style="margin-bottom: 0pt; margin-top: 0pt;">
<span style="color: rgb(128,128,0); font-size: 10.5000pt; font-family: '宋体';">
kUnit.SetImage(pkCatImage);</span></p>
<p class="p0" style="margin-bottom: 0pt; margin-top: 0pt;">
<span style="color: rgb(128,128,0); font-size: 10.5000pt; font-family: '宋体';">
kUnit.SetRenderRect(g_kCatImageRect);</span></p>
<p class="p0" style="margin-bottom: 0pt; margin-top: 0pt;">
<span style="color: rgb(128,128,0); font-size: 10.5000pt; font-family: '宋体';">
kUnit.SetPosition(0,0);</span></p>
<p class="p0" style="margin-bottom: 0pt; margin-top: 0pt;">
<span style="color: rgb(128,128,0); font-size: 10.5000pt; font-family: '宋体';">
kUnit.SetZ(0);</span></p>
<p class="p0" style="margin-bottom: 0pt; margin-top: 0pt;">
<span style="color: rgb(128,128,0); font-size: 10.5000pt; font-family: '宋体';">
//保存塞入的Cat&nbsp;Unit留着以后自己还可以进行些特殊处理，比如获取用户输入后在外部改变这个对象的位置</span></p>
<p class="p0" style="margin-bottom: 0pt; margin-top: 0pt;">
<span style="color: rgb(128,128,0); font-size: 10.5000pt; font-family: '宋体';">
m_pkTheCat&nbsp;=&nbsp;(oUnit*)m_kGroup.Push(&amp;kUnit);</span></p>
<p/><hr />

<a href="../oObjectGroup.html">
<img alt="Dorothy" class="style1" height="73" src="../../Image/DorothySmallBlack.PNG" width="205" /></a>

</body>

</html>
