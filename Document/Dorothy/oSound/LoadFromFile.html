<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type" />
<title>LoadFromFile</title>
<style type="text/css">

p.p0{
margin:0pt;
margin-bottom:0.0001pt;
margin-bottom:0pt;
margin-top:0pt;
text-align:justify;
font-size:10.5000pt; font-family:'Times New Roman'; }
.style1 {
	color: #0000FF;
}
.style2 {
	color: #000000;
}
.style4 {
	border-width: 0px;
}
</style>
</head>

<body style="background-image: url('../../Image/Bk.PNG')">

<p class="p0" style="margin-bottom: 0pt; margin-top: 0pt;">
&nbsp;<a href="../../default.html"><img alt="Dorothy" class="style4" src="../../Image/DorothySmall.PNG" /></a></p>
<hr />
<p class="p0" style="margin-bottom: 0pt; margin-top: 0pt;">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: rgb(0,128,0); font-size: 10.5000pt; font-family: '宋体';">
oSound类的成员函数，加载声效文件到内存中。</span></p>
<p/>
<p class="p0" style="margin-bottom: 0pt; margin-top: 0pt;">
<span style="color: rgb(0,0,255); font-size: 10.5000pt; font-family: '宋体';">
bool</span><span style="font-size: 10.5000pt; font-family: '宋体';">&nbsp;</span><span style="color: rgb(1,0,1); font-size: 10.5000pt; font-family: '宋体';">LoadFromFile</span><span style="font-size: 10.5000pt; font-family: '宋体';">(<span class="style1">const 
char</span><span class="style2">*</span>&nbsp;</span><span style="color: rgb(1,0,1); font-size: 10.5000pt; font-family: '宋体';">filename</span><span style="font-size: 10.5000pt; font-family: '宋体';">);</span></p>
<p/><p class="p0" style="margin-bottom: 0pt; margin-top: 0pt; text-align: left;">
<span style="color: rgb(128,128,0); font-size: 10.5000pt; font-family: '宋体';">
参数</span><span style="color: rgb(128,0,128); font-size: 10.5000pt; font-family: '宋体';">&nbsp;</span><span style="color: rgb(1,0,1); font-size: 10.5000pt; font-family: '宋体';">filename&nbsp;——要加载文件的字符串，只能加载.wav的声音文件</span></p>
<p class="p0" style="margin-bottom: 0pt; margin-top: 0pt; text-align: left;">
<span style="color: rgb(1,0,1); font-size: 10.5000pt; font-family: '宋体';">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;返回是否加载成功，true成功，false失败</span></p>
<p/><p class="p0" style="margin-bottom: 0pt; margin-top: 0pt; text-align: left;">
<span style="color: rgb(128,128,0); font-size: 10.5000pt; font-family: '宋体';">
——不要连续加载声效，不然上一次加载声效使用的内存不会被释放。一旦声音文件被加载到内存后，这块内存只能等到这个声效对象析构后才会被释放，所以如果你想动态的管理声效的的内存使用的话只能这样写代码</span></p>
<p class="p0" style="margin-bottom: 0pt; margin-top: 0pt; text-align: left;">
<span style="color: rgb(128,128,0); font-size: 10.5000pt; font-family: '宋体';">
//加载一个声效到内存</span></p>
<p class="p0" style="margin-bottom: 0pt; margin-top: 0pt; text-align: left;">
<span style="color: rgb(128,128,0); font-size: 10.5000pt; font-family: '宋体';">
oSound*&nbsp;pkSound&nbsp;=&nbsp;new&nbsp;oSound();</span></p>
<p class="p0" style="margin-bottom: 0pt; margin-top: 0pt; text-align: left;">
<span style="color: rgb(128,128,0); font-size: 10.5000pt; font-family: '宋体';">
pkSound-&gt;LoadFromFile(&quot;PIG.wav&quot;);</span></p>
<p class="p0" style="margin-bottom: 0pt; margin-top: 0pt; text-align: left;">
<span style="color: rgb(128,128,0); font-size: 10.5000pt; font-family: '宋体';">
//从内存中清除声效</span></p>
<p class="p0" style="margin-bottom: 0pt; margin-top: 0pt; text-align: left;">
<span style="color: rgb(128,128,0); font-size: 10.5000pt; font-family: '宋体';">
delete&nbsp;pkSound;</span></p>
<p class="p0" style="margin-bottom: 0pt; margin-top: 0pt; text-align: left;">
<span style="color: rgb(128,128,0); font-size: 10.5000pt; font-family: '宋体';">
pkSound&nbsp;=&nbsp;NULL;</span></p>
<p class="p0" style="margin-bottom: 0pt; margin-top: 0pt; text-align: left; font-family: 宋体; color: #808000;">
如果使用的声效是个对象的话就这样</p>
<p class="p0" style="margin-bottom: 0pt; margin-top: 0pt; text-align: left; font-family: 宋体; color: #808000;">
oSound kSound<span lang="en-us">;</span></p>
<p class="p0" style="margin-bottom: 0pt; margin-top: 0pt; text-align: left;">
<span style="color: rgb(128,128,0); font-size: 10.5000pt; font-family: '宋体';">
//加载</span></p>
<p class="p0" style="margin-bottom: 0pt; margin-top: 0pt; text-align: left; font-family: 宋体; color: #808000;">
<span lang="en-us">
<span style="color: rgb(128,128,0); font-size: 10.5000pt; font-family: '宋体';">
kSound.LoadFromFile(&quot;PIG.wav&quot;);</span></span></p>
<p class="p0" style="margin-bottom: 0pt; margin-top: 0pt; text-align: left;">
<span style="color: rgb(128,128,0); font-size: 10.5000pt; font-family: '宋体';">
//清除</span></p>
<p class="p0" style="margin-bottom: 0pt; margin-top: 0pt; text-align: left;">
<span style="color: rgb(128,128,0); font-size: 10.5000pt; font-family: '宋体';">
kSound<span lang="en-us">.Release();</span></span></p>
<p/><hr /><a href="../oSound.html">
<img alt="Dorothy" class="style4" height="73" src="../../Image/DorothySmallBlack.PNG" width="205" /></a>

</body>

</html>
