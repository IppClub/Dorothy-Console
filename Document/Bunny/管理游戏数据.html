<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type" />
<title>管理游戏数据</title>
<style type="text/css">

p.p0{
margin:0pt;
margin-bottom:0.0001pt;
margin-bottom:0pt;
margin-top:0pt;
text-align:justify;
font-size:10.5000pt; font-family:'Times New Roman'; }
</style>
</head>

<body>

<p class="p0" style="margin-bottom:0pt; margin-top:0pt; text-align:center; ">
<img height="33" src="wps_clip_image-30290.png" width="33" /><span style="font-weight:bold; font-size:18.0000pt; font-family:'微软雅黑'; ">管理游戏数据</span></p>
<p class="p0" style="text-indent:21.0000pt; margin-bottom:0pt; margin-top:0pt; ">
<span style="font-size:10.5000pt; font-family:'宋体'; ">
一个游戏会有些数据像是图片和声效数据，因为使用得比较频繁，所以是需要完全读到电脑内存里面并等待游戏调用的。在<font face="Times New Roman">Bunny</font><font face="宋体">里面简单的写了个</font><font face="Times New Roman">oDataBase</font><font face="宋体">类来进行这些数据的管理。</font><font face="Times New Roman">oDataBase</font><font face="宋体">里的主要方法有</font></span><span style="color:rgb(1,0,1); font-size:10.5000pt; font-family:'宋体'; ">Load</span><span style="font-size:10.5000pt; font-family:'宋体'; ">()，</span><span style="color:rgb(1,0,1); font-size:10.5000pt; font-family:'宋体'; ">Unload</span><span style="font-size:10.5000pt; font-family:'宋体'; ">()，</span><span style="color:rgb(1,0,1); font-size:10.5000pt; font-family:'宋体'; ">GetImage</span><span style="font-size:10.5000pt; font-family:'宋体'; ">()，</span><span style="color:rgb(1,0,1); font-size:10.5000pt; font-family:'宋体'; ">GetSound</span><span style="font-size:10.5000pt; font-family:'宋体'; ">()和</span><span style="color:rgb(1,0,1); font-size:10.5000pt; font-family:'宋体'; ">GetSingleton</span><span style="font-size:10.5000pt; font-family:'宋体'; ">()。GetSingleton说明是个单例类，初始化后在任何需要数据的地方都能够被调用获取。因为Bunny的游戏数据很少所以这个类其实实现的很偷懒，比如用一个Load就把所有的游戏要用的所有图片和声效数据都读到内存里，一个UnLoad把全部数据移除内存的样子，这样子的话如果游戏数据很多的话就不行了。那样在游戏开始载入的时候会很慢，而且游戏也不是一开始就要用到所有数据的，一次把全部数据都读到内存里也占用了太多的内存，这样的话就可以再安排下，让游戏只在需要的时候载入需要部分的数据，还有当内存里载入的数据太多比如超过100M什么的时候就把当前不用的部分数据都释放掉来减小内存的压力，这样游戏数据的管理就会比较好了。</span></p>
<p class="p0" style="text-indent:21.0000pt; margin-bottom:0pt; margin-top:0pt; ">
<span style="font-size:10.5000pt; font-family:'宋体'; ">
当然更进阶的游戏数据管理还有游戏数据文件像是图片啊声音什么的以原始的状态一个一个文件的存放是不太优化的，最好是能把这些数据全部打成一个包进行些压缩处理，读入内存后再进行解压，当然这些是又一些麻烦的事情了，小游戏可以先不用考虑。</span></p>
<p/><p class="p0" style="text-indent:21.0000pt; margin-bottom:0pt; margin-top:0pt; ">
<span style="color:rgb(128,0,128); font-size:10.5000pt; font-family:'宋体'; ">
<a href="../Bunny.html">返回</a></span></p>

</body>

</html>
